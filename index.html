
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ROBOSENS :: SYSTEM MONITOR</title>

<style>
:root{
  --bg: #02070d;
  --panel: #07141f;
  --neon: #00eaff;
  --accent: #00ff9c;
  --danger: #ff3b3b;
  --text: #bdefff;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Segoe UI", monospace;
}

body{
  background: radial-gradient(circle at top, #041622, #010409);
  color: var(--text);
  height:100vh;
  overflow:hidden;
}

/* ===== HEADER ===== */
header{
  text-align:center;
  padding:20px;
  border-bottom:1px solid rgba(0,234,255,0.2);
}

header h1{
  letter-spacing:6px;
  font-size:2.5em;
  color:var(--neon);
  text-shadow:0 0 15px var(--neon);
}

header span{
  font-size:0.8em;
  opacity:0.7;
}

/* ===== MAIN GRID ===== */
.dashboard{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:20px;
  padding:30px;
  height:calc(100vh - 120px);
}

/* ===== DATA BOX ===== */
.box{
  background: linear-gradient(145deg, #081d2c, #04121b);
  border:1px solid rgba(0,234,255,0.3);
  border-radius:12px;
  padding:20px;
  position:relative;
  box-shadow:0 0 20px rgba(0,234,255,0.08);
}

.box::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,234,255,0.25);
  opacity:0.2;
}

.box h2{
  font-size:1em;
  letter-spacing:2px;
  margin-bottom:15px;
  color:var(--accent);
}

.value{
  font-size:3em;
  color:var(--neon);
  text-shadow:0 0 10px var(--neon);
}

/* ===== STATUS BAR ===== */
.status{
  grid-column:1/-1;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 20px;
  background:#030d14;
  border:1px solid rgba(0,234,255,0.3);
  border-radius:10px;
}

.status span{
  font-size:0.9em;
  opacity:0.8;
}

/* ===== BLINKING DOT ===== */
.live{
  display:flex;
  align-items:center;
  gap:8px;
}

.dot{
  width:10px;
  height:10px;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 10px var(--accent);
  animation:pulse 1.5s infinite;
}

@keyframes pulse{
  0%{opacity:0.3}
  50%{opacity:1}
  100%{opacity:0.3}
}
</style>
</head>

<body>

<header>
  <h1>ROBOSENS</h1>
  <span>NEURAL SENSOR INTERFACE</span>
</header>

<section class="dashboard">

  <div class="box">
    <h2>TEMPERATURE</h2>
    <div class="value" id="temperature">--°C</div>
  </div>

  <div class="box">
    <h2>HUMIDITY</h2>
    <div class="value" id="humidity">--%</div>
  </div>

  <div class="box">
    <h2>SOIL MOISTURE</h2>
    <div class="value" id="soil">--%</div>
  </div>

  <div class="box">
    <h2>GAS LEVEL</h2>
    <div class="value" id="gas">--</div>
  </div>

  <div class="status">
    <div class="live">
      <div class="dot"></div>
      <span>SYSTEM LIVE</span>
    </div>
    <span id="lastUpdated">Last update: --</span>
  </div>

</section>

<script>
const channelID = "2414883";
const readAPIKey = "TUISFG4K3UW3939W";
let lastTime = "";

async function fetchData(){
  try{
    const url = `https://api.thingspeak.com/channels/${channelID}/feeds/last.json?api_key=${readAPIKey}`;
    const res = await fetch(url);
    const data = await res.json();

    if(data.created_at !== lastTime){
      lastTime = data.created_at;

      temperature.innerText = data.field1 + "°C";
      humidity.innerText = data.field2 + "%";
      soil.innerText = data.field3 + "%";
      gas.innerText = data.field4;

      lastUpdated.innerText =
        "Last update: " + new Date(data.created_at).toLocaleTimeString();
    }
  }catch(e){
    console.log("DATA LINK ERROR");
  }
}

fetchData();
setInterval(fetchData, 2000);
</script>

</body>
</html>
